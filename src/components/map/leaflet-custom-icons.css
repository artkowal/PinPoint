/* === PIN (pojedynczy) ===================================================== */
.pin {
  position: relative;
  width: 40px;
  height: 40px;
  filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.45));
  transition: transform 0.14s ease, filter 0.14s ease;
  will-change: transform, filter;
}
.pin:hover {
  transform: translateY(-1px) scale(1.04);
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.55));
}

/* ciemna „skórka” pinezki (stała) */
.pin-bg {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23142435' stroke='%23e8edf4' stroke-width='1.25'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M15 10.5a3 3 0 11-6 0 3 3 0 016 0z'/%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z'/%3E%3C/svg%3E");
}

/* kolorowa kapsla POD ikoną (kolor zależny od kategorii) */
.pin-cap {
  position: absolute;
  top: 6px;
  left: 50%;
  transform: translateX(-50%);
  width: 22px;
  height: 22px;
  border-radius: 9999px;
  background: var(--pin-color, #06b6d4);
  border: 2px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.35) inset;
}

/* biała ikona (SVG jako maska), NA kapslu */
.pin-ico {
  position: absolute;
  top: 6px;
  left: 50%;
  transform: translateX(-50%);
  width: 22px;
  height: 22px;
  background: #fff;
  -webkit-mask-position: center;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-size: contain;
  mask-position: center;
  mask-repeat: no-repeat;
  mask-size: contain;
  pointer-events: none;
}

/* mała kropka-akcent w dolnej części pinezki */
.pin-shadow {
  position: absolute;
  bottom: 7px;
  left: 50%;
  transform: translateX(-50%);
  width: 12px;
  height: 12px;
  border-radius: 9999px;
  background: #10b981;
  border: 2px solid #fff;
  opacity: 0.9;
}

/* animacja wejścia */
@keyframes pin-pop {
  from {
    transform: scale(0.7);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}
.pin-anim {
  animation: pin-pop 0.18s ease-out;
}

/* === KOLORY KATEGORII ===================================================== */
.pin--landmark {
  --pin-color: #06b6d4;
} /* cyan-500/600 */
.pin--church {
  --pin-color: #7c3aed;
} /* violet-600 */
.pin--nature {
  --pin-color: #16a34a;
} /* green-600 */
.pin--mountain {
  --pin-color: #f59e0b;
} /* amber-500/600 */

/* === MASKI IKON (białe) – JEDNOLINIOWE data: URL ========================== */
/* landmark (kolumny) */
.ico--landmark {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M12 3l9 4.5H3L12 3Zm-7 6h14v2H5V9Zm1 2h2v7H6v-7Zm5 0h2v7h-2v-7Zm5 0h2v7h-2v-7ZM4 18h16v2H4v-2Z'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M12 3l9 4.5H3L12 3Zm-7 6h14v2H5V9Zm1 2h2v7H6v-7Zm5 0h2v7h-2v-7Zm5 0h2v7h-2v-7ZM4 18h16v2H4v-2Z'/%3E%3C/svg%3E");
}

/* church (krzyż) */
.ico--church {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M11 4h2v16h-2V4Zm-4 5h10v2H7V9Z'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M11 4h2v16h-2V4Zm-4 5h10v2H7V9Z'/%3E%3C/svg%3E");
}

/* nature (listek) */
.ico--nature {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M12 3c-5 2-7 6-5 10s6 4 10 0c2-4 0-8-5-10Z'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M12 3c-5 2-7 6-5 10s6 4 10 0c2-4 0-8-5-10Z'/%3E%3C/svg%3E");
}

/* mountain (dwa szczyty) */
.ico--mountain {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M3 19l6-11 6 11H3Zm7 0l4-7 7 7h-11Z'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M3 19l6-11 6 11H3Zm7 0l4-7 7 7h-11Z'/%3E%3C/svg%3E");
}

/* === CLUSTERY ============================================================= */
.cluster-icon {
  width: 44px;
  height: 44px;
  transform: translate(-22px, -22px);
  border-radius: 9999px;
  background: #0891b2;
  border: 3px solid #fff;
  color: #fff;
  display: grid;
  place-items: center;
  font-weight: 800;
  box-shadow: 0 6px 14px rgba(2, 6, 23, 0.35);
  transition: transform 0.14s ease, box-shadow 0.14s ease;
  will-change: transform, box-shadow;
}
.cluster-icon:hover {
  transform: translate(-22px, -22px) scale(1.06);
  box-shadow: 0 8px 18px rgba(2, 6, 23, 0.45);
}
.cluster-icon span {
  font-size: 14px;
  line-height: 1;
}

/* === Ikona w Popupie ====================================================== */
.popup-ico-wrap {
  width: 28px;
  height: 28px;
  border-radius: 9999px;
  background: var(--pin-color, #06b6d4);
  border: 2px solid #fff;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.25) inset, 0 1px 2px rgba(0, 0, 0, 0.15);
  position: relative;
}
.popup-ico {
  position: absolute;
  inset: 0;
  background: #fff;
  -webkit-mask-position: center;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-size: 70%;
  mask-position: center;
  mask-repeat: no-repeat;
  mask-size: 70%;
}
